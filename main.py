# -*- coding: utf-8 -*-
"""main.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1VkpOfaFSfQ3eyYADd16NSn8WXgZdn1jl

# í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ëª¨ë“ˆ ë¶ˆëŸ¬ì˜¤ê¸°
"""

!pip install requests googletrans==3.1.0a0

import requests
from IPython.display import Image, display
from googletrans import Translator
import webbrowser

"""# API_KEY

TMDB_API_KEY = 'cba511a5cd8d9c9fdb4d7297c1e555bd'

UNOGS_API_KEY = 'e232918b50msh15dc890c9e18b2fp181942jsn078e62dc0b4b'

UNOGS_HOST = 'unogsng.p.rapidapi.com'

# ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
"""

def main():
    print("ğŸ¥ ì˜í™”/OTT ì½˜í…ì¸  íƒìƒ‰ê¸°")
    print("1. ì¸ê¸° ì˜í™” ë³´ê¸° (TMDB)")
    print("2. ë„·í”Œë¦­ìŠ¤ ì¶”ì²œ ë³´ê¸° (uNoGS)")

    choice = input("ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš” (1 ë˜ëŠ” 2): ").strip()

    if choice == '1':
        genres = get_tmdb_genres()
        print("\n[ğŸ ì¥ë¥´ ëª©ë¡]")
        for g in genres:
            print(f"- {g}")
        selected = input("ì¶”ì²œì„ ì›í•˜ëŠ” ì¥ë¥´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì•¡ì…˜): ").strip()
        genre_id = genres.get(selected)
        movies = fetch_tmdb_movies_by_genre(genre_id)
        display_tmdb_results(movies)

        print("\nğŸ‘‰ ë” ë§ì€ ì •ë³´ë¥¼ ë³´ì‹œë ¤ë©´ CGV í™ˆí˜ì´ì§€ë¥¼ ë°©ë¬¸í•˜ì„¸ìš”: https://www.cgv.co.kr/movies/")

    elif choice == '2':
        print("\n[ğŸ“º ì¥ë¥´ ëª©ë¡ (ì˜ë¬¸ ì…ë ¥)]")
        print(", ".join(UNOGS_GENRES))
        genre = input("ì¥ë¥´ ì…ë ¥ (ì˜ˆ: comedy): ").strip().lower()
        year = input("ëª‡ ë…„ ì´í›„ ì½˜í…ì¸ ë¥¼ ì¶”ì²œë°›ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? (ì˜ˆ: 2020): ").strip()
        year = int(year) if year.isdigit() else 2020

        print("\nâ­ í•œêµ­ ë„·í”Œë¦­ìŠ¤ì—ì„œ ì‹œì²­ ê°€ëŠ¥í•œ ì½˜í…ì¸ ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.")
        results = fetch_unogs_recommendations(genre, year)
        display_unogs_results(results)

    else:
        print("âš ï¸ ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤.")

"""# ì‹¤í–‰"""

if __name__ == '__main__':
    main()